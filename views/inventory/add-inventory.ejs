<!-- content heading -->
<% if (title) { %>
<h1><%= title %></h1>
<% } else {
  res.redirect('/')
} %>

<!-- message -->
 <% if (locals.messages) { %>
    <div class="flash-messages">
        <%- messages() %>
    </div>
<% } %>

<!-- error -->
 <% if (errors && errors.length > 0) { %>
    <ul class="notice error-messages">
      <% errors.forEach(err => { %>
        <li><%= err.msg %></li>
      <% }) %>
    </ul>
<% } %>

<!-- new inventory form -->
<form class="inventory-form" action="/inv/add-inventory" method="POST">
  <fieldset>
    <legend><em>All fields are required.</em></legend>
    <div>
      <label for="classification_id">Classification</label>
      <select id="classification_id" name="classification_id" required>
        <option value="">Choose a Classification</option>
        <% classificationSelect.forEach(function(classification) { %>
        <option value="<%= classification.classification_id %>"><%= classification.classification_name %></option>
        <% }) %>
      </select>
    </div>
    <div>
      <label for="inv_make">Make</label>
      <input type="text" id="inv_make" name="inv_make" required minlength="3" placeholder="Min of 3 characters" value="<%= locals.inv_make %>">
    </div>
    <div>
      <label for="inv_model">Model</label>
      <input type="text" id="inv_model" name="inv_model" required minlength="3" placeholder="Min of 3 characters" value="<%= locals.inv_model %>">
    </div>
    <div>
      <label for="inv_description">Description</label>
      <textarea id="inv_description" name="inv_description" required value="<%= locals.inv_description %>"></textarea>
    </div>
    <div>
      <label for="inv_image">Image Path</label>
      <input type="text" id="inv_image" name="inv_image" required value="/images/vehicles/no-image.png">
    </div>
    <div>
      <label for="inv_thumbnail">Thumbnail Path</label>
      <input type="text" id="inv_thumbnail" name="inv_thumbnail" required value="/images/vehicles/no-image.png">
    </div>
    <div>
      <label for="inv_price">Price</label>
      <input type="number" id="inv_price" name="inv_price" required step="0.01" placeholder="decimal or integer" value="<%= locals.inv_price %>">
    </div>
    <div>
      <label for="inv_year">Year</label>
      <input type="number" id="inv_year" name="inv_year" required min="1900" max="2099" placeholder="4-digit year" value="<%= locals.inv_year %>">
    </div>
    <div>
      <label for="inv_miles">Miles</label>
      <input type="number" id="inv_miles" name="inv_miles" required placeholder="digits only" value="<%= locals.inv_miles %>">
    </div>
    <div>
      <label for="inv_color">Color</label>
      <input type="text" id="inv_color" name="inv_color" required value="<%= locals.inv_color %>">
    </div>
    <div>
      <button type="submit">Add Inventory</button>
    </div>
  </fieldset>
</form>

<style>
.inventory-form {
  background: #04a7d6;
  padding: 1.5em 2em;
  border-radius: 8px;
  max-width: 400px;
  margin: 2em auto;
}

.inventory-form fieldset {
  border: none;
  padding: 0;
}

.inventory-form legend {
  color: black;
  font-size: 1em;
  margin-bottom: 1em;
  font-style: italic;
  letter-spacing: 1px;
}

.inventory-form label {
  display: block;
  margin-top: 1em;
  margin-bottom: 0.2em;
  font-weight: bold;
}

.inventory-form input,
.inventory-form select,
.inventory-form textarea {
  width: 100%;
  padding: 0.5em;
  border: none;
  border-radius: 4px;
  margin-bottom: 0.5em;
  font-size: 1em;
  color: black;
}
.inventory-form textarea {
  min-height: 60px;
  resize: vertical;
}
.inventory-form button {
  margin-top: 1em;
  width: 100%;
  padding: 0.7em;
  background: #fff;
  color: black;
  border: none;
  border-radius: 20px;
  font-size: 1.1em;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.2s;
}
.inventory-form button:hover {
  background: #e0f7fa;
}
</style>